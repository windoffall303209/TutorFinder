
<body>
  <div class="container mt-4">
    <h1><i class="fas fa-edit me-2"></i>Sửa lớp học</h1>
    <a href="javascript:history.back()" class="btn btn-secondary mb-3">
      <i class="fas fa-arrow-left me-2"></i>Quay lại
    </a>

    <form action="/admin/classes/edit/<%= editClass.id %>" method="POST">
      <div class="mb-3">
        <label for="parent_name" class="form-label">Tên phụ huynh</label>
        <input type="text" class="form-control" id="parent_name" name="parent_name" value="<%= editClass.parent_name %>" required>
      </div>
      <div class="mb-3">        
        <label for="phone" class="form-label">Số điện thoại</label>        
        <input type="tel" class="form-control" id="phone" name="phone" value="<%= editClass.phone %>" 
        pattern="[0-9]{10}" maxlength="10" title="Vui lòng nhập đúng 10 số điện thoại" required>      
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="provinceClass" class="form-label">Thành phố</label>
            <select class="form-select" id="provinceClass" name="province" required>
              <!-- Dữ liệu sẽ được chèn tự động bởi JavaScript -->
            </select>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="districtClass" class="form-label">Quận</label>
            <select class="form-select" id="districtClass" name="district" required>
              <!-- Dữ liệu sẽ được chèn tự động bởi JavaScript -->
            </select>
          </div>
        </div>
      </div>

      <div class="mb-3">
        <label for="specific_address" class="form-label">Địa chỉ cụ thể</label>
        <input type="text" class="form-control" id="specific_address" name="specific_address" value="<%= editClass.specific_address %>">
      </div>

      <div class="mb-3">
        <label for="tutor_gender" class="form-label">Giới tính gia sư</label>
        <select class="form-select" id="tutor_gender" name="tutor_gender" required>
          <option value="any" <%= editClass.tutor_gender === 'any' ? 'selected' : '' %>>Không yêu cầu</option>
          <option value="male" <%= editClass.tutor_gender === 'male' ? 'selected' : '' %>>Nam</option>
          <option value="female" <%= editClass.tutor_gender === 'female' ? 'selected' : '' %>>Nữ</option>
        </select>
      </div>

      <div class="mb-3">        
        <label for="sessions_per_week" class="form-label">Số buổi/tuần</label>        
        <input type="number" class="form-control" id="sessions_per_week" name="sessions_per_week" 
        value="<%= editClass.sessions_per_week %>" required min="1" max="20" title="Vui lòng nhập số buổi từ 1 đến 20">      
      </div>      
      <div class="mb-3">        
        <label for="fee_per_session" class="form-label">Học phí/buổi (VNĐ)</label>        
        <input type="number" class="form-control" id="fee_per_session" name="fee_per_session" 
        value="<%= editClass.fee_per_session %>" required min="10000" max="10000000" step="1000" 
        title="Vui lòng nhập học phí từ 10,000 đến 10,000,000 VNĐ">      
      </div>

      <div class="mb-3">
        <label for="grade_id" class="form-label">Khối lớp</label>
        <select class="form-select" id="grade_id" name="grade_id" required>
          <% grades.forEach(function(grade) { %>
            <option value="<%= grade.id %>" <%= grade.id === editClass.grade_id ? 'selected' : '' %>><%= grade.name %></option>
          <% }); %>
        </select>
      </div>

      <div class="mb-3">
        <label for="subject_id" class="form-label">Môn học</label>
        <select class="form-select" id="subject_id" name="subject_id" required>
          <% subjects.forEach(function(subject) { %>
            <option value="<%= subject.id %>" <%= subject.id === editClass.subject_id ? 'selected' : '' %>><%= subject.name %></option>
          <% }); %>
        </select>
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Mô tả</label>
        <textarea class="form-control" id="description" name="description" rows="3"><%= editClass.description %></textarea>
      </div>

      <div class="mb-3">
        <label for="status" class="form-label">Trạng thái</label>
        <select class="form-select" id="status" name="status" required>
          <option value="open" <%= editClass.status === 'open' ? 'selected' : '' %>>Đang mở</option>
          <option value="taken" <%= editClass.status === 'taken' ? 'selected' : '' %>>Đã nhận</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="learning_mode" class="form-label">Hình thức học</label>
        <select class="form-select" id="learning_mode" name="learning_mode" required>
          <option value="online" <%= editClass.learning_mode === 'online' ? 'selected' : '' %>>Online</option>
          <option value="offline" <%= editClass.learning_mode === 'offline' ? 'selected' : '' %>>Offline</option>
          <option value="both" <%= editClass.learning_mode === 'both' ? 'selected' : '' %>>Cả hai</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="is_active" class="form-label">Trạng thái hoạt động</label>
        <select class="form-select" id="is_active" name="is_active" required>
          <option value="1" <%= editClass.is_active === 1 ? 'selected' : '' %>>Hoạt động</option>
          <option value="0" <%= editClass.is_active === 0 ? 'selected' : '' %>>Không hoạt động</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary">
        <i class="fas fa-save me-2"></i>Cập nhật
      </button>
      <a href="javascript:history.back()" class="btn btn-secondary">
        <i class="fas fa-times me-2"></i>Hủy
      </a>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

