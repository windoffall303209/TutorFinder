<div class="cus-top-bar">
  <div class="custom-top-bar-container">
    <span class="custom-top-bar-left">
      <i class="fas fa-graduation-cap"></i> CHÀO MỪNG ĐẾN VỚI TRUNG TÂM GIA SƯ
      TUTORHUB
    </span>
    <div class="custom-top-bar-right">
      <a href="tel:0358482955" class="custom-top-bar-contact">
        <i class="fas fa-phone-alt"></i> 0358-484-2955
      </a>
      <% if (typeof user !== 'undefined' && user) { %>
      <div class="dropdown dropdown-topbar">
        <a
          href="#"
          class="top-bar-link dropdown-toggle"
          id="userDropdown"
          role="button"
          aria-expanded="false"
        >
          <i class="fas fa-user-circle"></i> <%= user.display_name %>
          <i class="fas fa-chevron-down ms-1 small"></i>
        </a>
        <div
          class="dropdown-menu dropdown-menu-end dropdown-menu-topbar shadow-sm"
          aria-labelledby="userDropdown"
        >
          <% if (user.role === 'admin') { %>
          <a class="dropdown-item" href="/admin">
            <i class="fas fa-user-shield me-2"></i> Quản trị
          </a>
          <% } %>
          <a class="dropdown-item" href="/user">
            <i class="fas fa-user me-2"></i> Tài khoản
          </a>
          <a class="dropdown-item" href="/user/classes/created">
            <i class="fas fa-chalkboard me-2"></i> Lớp học đã tạo
          </a>
          <% if (user.is_tutor) { %>
          <a class="dropdown-item" href="/user/classes/registered">
            <i class="fas fa-chalkboard-teacher me-2"></i> Lớp học đã nhận
          </a>
          <a class="dropdown-item" href="/classes/registrations/tutor">
            <i class="fas fa-clipboard-list me-2"></i> Quản lý đăng ký nhận lớp
          </a>
          <% } %>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item text-danger" href="/auth/logout">
            <i class="fas fa-sign-out-alt me-2"></i> Đăng xuất
          </a>
        </div>
      </div>
      <% } else { %>
      <a href="/auth/login" class="top-bar-link">
        <i class="fas fa-sign-in-alt"></i> Đăng nhập
      </a>
      <% } %>
    </div>
  </div>
</div>

<!-- Navbar -->
<header>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
    <div class="container d-flex justify-content-start">
      <a class="navbar-brand d-flex align-items-center" href="/">
        <img src="/img/logo.jpg" alt="Logo" class="nav-logo" />
        <span class="ms-2">TutorHub</span>
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item custom-nav-item">
            <a class="nav-link" href="/">
              <i class="fas fa-home"></i> Giới thiệu
            </a>
          </li>
          <li class="nav-item custom-nav-item">
            <a class="nav-link" href="/tutors">
              <i class="fas fa-chalkboard-teacher"></i> Gia sư
            </a>
          </li>
          <li class="nav-item custom-nav-item">
            <a class="nav-link" href="/classes">
              <i class="fas fa-book-open"></i> Lớp học
            </a>
          </li>
          <% if (typeof user !== 'undefined' && user) { %>
          <li class="nav-item custom-nav-item">
            <a class="nav-link" href="/chat">
              <i class="fas fa-comments"></i> Chat
            </a>
          </li>
          <li class="nav-item custom-nav-item">
            <a class="nav-link" href="/schedules">
              <i class="fas fa-calendar-alt"></i> Lịch học
            </a>
          </li>
          <% } %>
          <li class="nav-item custom-nav-item">
            <a class="nav-link" href="/contact">
              <i class="fas fa-envelope"></i> Liên hệ
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<script src="/js/header.js"></script>